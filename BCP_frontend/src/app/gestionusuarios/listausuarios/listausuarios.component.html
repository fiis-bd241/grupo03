<!-- Pantalla de gestión de usuarios -->
<div class="sidebar">
  <img src="assets/bcp-logo.png" alt="BCP Logo" class="logo" style="width: 150px; height: auto; margin-bottom: 10px;">
  <ul>
    <li><a href="/gestion/usuarios" class="active">Gestión de usuarios</a></li>
    <li><a href="#">Ajustes de seguridad</a></li>
    <li><a href="#">Mantenimiento de base de datos</a></li>
    <li><a href="#">Rendimiento de usuarios</a></li>
  </ul>

</div>

<!-- Contenido principal -->
<div class="main-content">
  <div class="header">
    <div class="header-left">
      <h5>Hora actual: {{ now | date: 'HH:mm:ss' }}</h5>
    </div>
    <div class="header-right">
      <h5>{{ usuarioLogeado }}</h5>
    </div>
  </div>

  <h1>Gestión de Usuarios</h1>
  <div class="card">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <a class="nav-link active" href="/gestion/usuarios">Usuarios</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/gestion/agregar-usuario">Agregar usuario</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/gestion/modificar-usuario">Modificar Usuario</a>
      </li>
    </ul>
    <div class="table-responsive">
      <table class="table-users">
        <thead>
          <tr>
            <th>ID</th>
            <th>N° de acceso (DNI)</th>
            <th>Nombre</th>
            <th>Rol</th>
            <th>Contraseña</th>
            <th>Correo</th>
            <th>Teléfono</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let usuario of usuarios">
            <td>{{ usuario.idEmpleado }}</td>
            <td>{{ usuario.dni }}</td>
            <td>{{ usuario.nombre }}</td>
            <td>{{ usuario.rol }}</td>
            <td>{{ usuario.contrasena }}</td>
            <td>{{ usuario.correo }}</td>
            <td>{{ usuario.telefono }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<script>
  document.querySelectorAll('.table-users th').forEach(th => {
    th.style.position = 'relative';
    let resizer = document.createElement('div');
    resizer.style.width = '5px';
    resizer.style.height = '100%';
    resizer.style.position = 'absolute';
    resizer.style.right = '0';
    resizer.style.top = '0';
    resizer.style.cursor = 'col-resize';
    resizer.addEventListener('mousedown', initResize);
    th.appendChild(resizer);
  });

  function initResize(e) {
    let th = e.target.parentElement;
    let startX = e.clientX;
    let startWidth = th.offsetWidth;
    document.addEventListener('mousemove', doResize);
    document.addEventListener('mouseup', stopResize);

    function doResize(e) {
      th.style.width = startWidth + e.clientX - startX + 'px';
    }

    function stopResize() {
      document.removeEventListener('mousemove', doResize);
      document.removeEventListener('mouseup', stopResize);
    }
  }
</script>
