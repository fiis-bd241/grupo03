<h1 class="titulo1">REUNIONES</h1>

<!-- Sección de búsqueda por pedido -->
<div class="container mb-4">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <form [formGroup]="searchForm" (ngSubmit)="buscarReunionesPorPedido()">
        <div class="form-group">
          <label for="pedidoId">Buscar por Pedido ID:</label>
          <select id="pedidoId" formControlName="pedidoId" class="form-control">
            <option value="" disabled selected>Seleccione un Pedido</option>
            <option *ngFor="let pedido of pedidos" [value]="pedido">{{ pedido }}</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary mt-2">Buscar</button>
      </form>
    </div>
  </div>
</div>

<!-- Sección de reuniones completadas -->
<div class="container">
  <div class="row">
    <div class="col">
      <h2>Reuniones Completadas</h2>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
          <tr>
            <th scope="col">ID Reunión</th>
            <th scope="col">Tipo</th>
            <th scope="col">Fecha</th>
            <th scope="col">Hora Inicio</th>
            <th scope="col">Hora Fin</th>
            <th scope="col">Pedido ID</th>
            <th scope="col">Acciones</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let reunion of reunionesCompletadas">
            <td>{{ reunion[0] }}</td>
            <td>{{ reunion[1] }}</td>
            <td>{{ reunion[2] }}</td>
            <td>{{ reunion[3] }}</td>
            <td>{{ reunion[4] }}</td>
            <td>{{ reunion[5] }}</td>
            <td>
              <button class="btn btn-link" (click)="verDetallesCompletada(reunion[0])">Ver Detalles</button>
            </td>
          </tr>
          </tbody>
        </table>
        <div *ngIf="reunionesCompletadas.length === 0" class="alert alert-warning" role="alert">
          No hay reuniones completadas.
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Sección de reuniones pendientes -->
<div class="container">
  <div class="row">
    <div class="col">
      <h2>Reuniones Pendientes</h2>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
          <tr>
            <th scope="col">ID Reunión</th>
            <th scope="col">Tipo</th>
            <th scope="col">Fecha</th>
            <th scope="col">Hora Inicio</th>
            <th scope="col">Hora Fin</th>
            <th scope="col">Pedido ID</th>
            <th scope="col">Acciones</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let reunion of reunionesPendientes">
            <td>{{ reunion[0] }}</td>
            <td>{{ reunion[1] }}</td>
            <td>{{ reunion[2] }}</td>
            <td>{{ reunion[3] }}</td>
            <td>{{ reunion[4] }}</td>
            <td>{{ reunion[5] }}</td>
            <td>
              <button class="btn btn-link" (click)="verDetallesPendiente(reunion[0])">Ver Detalles</button>
            </td>
          </tr>
          </tbody>
        </table>
        <div *ngIf="reunionesPendientes.length === 0" class="alert alert-warning" role="alert">
          No hay reuniones pendientes.
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Botones de navegación -->
<div class="container">
  <div class="row justify-content-center mt-4">
    <div class="col text-center">
      <button class="btn btn-primary mx-2" routerLink="/paso1" routerLinkActive="active">Crear Nueva Reunión</button>
      <a class="btn btn-secondary mx-2" href="/principal" role="button">Regresar a Principal</a>
      <a class="btn btn-secondary mx-2" href="/lista-reportes-conformidad" role="button">Ver reportes de Conformidad</a>
    </div>
  </div>
</div>

<router-outlet></router-outlet>
