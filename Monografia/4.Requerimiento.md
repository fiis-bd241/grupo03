# Requerimientos
### Caso de uso 13 : Definición del Universo
| Objetivo | Definir el Universo de clientes o cuentas en el que se está trabajando |
|:----------:|-------------------|
| Descripción | Proceso en el que el Usuario podrá elaborar la lógica, en función a los requerimientos del cliente, de la definición del Universo de clientes y cuentas, así como cumplir con los lineamientos que se deben seguir|
| Actor | <p align="center"> Custodio Técnico |
| Precondición | <p align="center"> Información del modelo DDV rellenada (para usar los nombres en la lógica) |
| <p align="center">  Paso | <p align="center">  Acción </p> |
| 1 | El usuario tiene fácil acceso a los requerimientos de definición de universo del cliente (usuario origen) |
| 2 | El usuario traduce en un lector SQL lo solicitado, dicho lector es capaz de determinar la buena sintaxis |
| 3 | El usuario puede detallar los pasos que se siguieron para la lógica del universo, en un cuadro que va al lado del código. |
| 4 | El usuario termina y le da a confirmar y guardar  |
| 5 | El usuario no debería necesitar salir de este sistema para completar su tarea |
| 6 | El caso de uso termina |

### Caso de uso 14 : Definir Reglas funcionales de precarga y carga


| Objetivo | Enlazar el universo con las tablas equivalentes halladas en las definiciones técnicas, con un comando left join, de manera que se cumplan los requerimientos del cliente, aplicar las reglas de carga obligatorias y posibilitar la aplicación de las opcionales a cada campo hallado con las reglas de carga|
|:----------:|-------------------|
| Descripción | Proceso en el que se hacen los left joins entre el universo y las tablas equivalentes, seleccionando el campo en cada caso (también siguiendo requerimientos), mediante SQL, PySpark, Pseudocódigo. Aplicar validación a dicho campo seleccionado con las reglas de precarga, mandando a la tabla Reject a los registros que no pasen (salvo excepción especificada en los lineamientos)|
| Actor | <p align="center"> Data Steward|
| Precondición | <p align="center"> Haber hallado las tablas equivalentes con las referencias y haber definido el universo |
| <p align="center">  Paso | <p align="center">  Acción </p> |
| 1 | El usuario tiene fácil acceso a la definición del universo, a la tabla equivalente y al modelo del tablón DDV |
| 2 | El usuario puede especificar el lenguaje que estará usando mediante una lista desplegable |
| 3 | El usuario traduce en un lector de Pseudocódigo, SQL o PySpark lo solicitado, dicho lector es capaz de determinar la buena sintaxis en cualquiera de estos 3 lenguajes|
| 4 | El sistema de debe permitir la navegación entre las reglas de carga para cada campo que se está migrando |
| 5 | El usuario no debería necesitar salir de este sistema para completar su tarea |
| 6 | El usuario podra ver en el sistema las reglas actuales que se están aplicando, así como las que se puede aplicar a los diferentes campos |
| 7 | Si se quiere aplicar la regla a un determinado campo el sistema debe saber que la regla de Unicidad solo debe estar disponible en el campo considerado llave |
| 8 | El sistema mostrará una breve descripción de cada regla de precarga, tal como está en los lineamientos |
| 9 | El usuario puede entonces hacer la recomendación de aplicar una cantidad de reglas de carga para cada campo, no dejándolo continuar si no se aplican las reglas de precarga obligatorias.|
### Caso de uso 15: Definir Reglas técnicas de precarga y carga


| Objetivo | Formalizar las reglas de carga para que puedan ser ejecutadas y realizar un query a la base de datos|
|:----------:|-------------------|
| Descripción | Proceso que consiste en escribir o reescribir el código planteado en el caso de uso 14, en SQL o PySpark.|
| Actor | <p align="center"> Custodio Técnico|
| Precondición | <p align="center"> Haber hecho un pseudocódigo o código base de las reglas de carga y haber seleccionado las reglas de precarga |
| <p align="center">  Paso | <p align="center">  Acción </p> |
| 1 | El sistema debe facilitar el acceso a las reglas de carga ya planteadas, así como al Universo, a la tabla equivalente y al tablón DDV|
| 2 | El Usuario tiene acceso a un lector de código SQL o PySpark, en el cual puede seleccionar el lenguaje mediante una lista desplegable|
| 3 | El usuario escribe o reescribe el codigo en SQL o PySpark, dicho lector es capaz de determinar la buena sintaxis en cualquiera de estos 2 lenguajes|
| 4 | El usuario puede detallar los pasos que se siguieron para la definición de la regla de carga, en un cuadro que va al lado del código.|
| 5 | El sistema de debe permitir la navegación entre las reglas de carga para cada campo que se está migrando |
| 6 | El usuario termina y le da a confirmar y guardar para cada campo  |
| 7 | El usuario no debería necesitar salir de este sistema para completar su tarea |
| 8| El caso de uso termina |
### Caso de uso 16: Complementar definiciones técnicas


| Objetivo | Comprobar el funcionamiento de la lógica del codigo planteado en el caso de uso 15, en el DataLake|
|:----------:|-------------------|
| Descripción | El Data Engineer traduce el codigo finalmente a PySpark (o lo optimiza) y ejecuta el query en el DataLake, le da feedback al Custodio técnico, de tal manera que corrige y se lo vuelve a mandar, hasta que cumpla los requerimientos del cliente|
| Actor | <p align="center"> Custodio Técnico/Data Engineer|
| Precondición | <p align="center"> Haber pasado las reglas de precarga |
| <p align="center">  Paso | <p align="center">  Acción </p> |
| 1 | El sistema facilita el acceso al codigo enviado por el Custodio técnico, así como la lógica de universo y la tabla equivalente|
| 2 | El sistema muestra un lector de código PySpark para el registro del código|
| 3 | El sistema también muestra un lector de código como el del Caso de uso 15, para la correción que tenga que hacer el Custodio Técnico|
| 4 | El sistema debería cerrar el ciclo de retroalimentanión en cuanto ambos usuarios estén de acuerdo|
| 5 | El caso de uso culmina|


### R-050 : Definir los campos según la seguridad de cada uno


| Objetivo | Asignar a cada campo que tipo es para que según su tipo se le pueda realizar sus respectivos cambios.|
|:----------:|-------------------|
| Descripción | El Data Steward registra la seguridad de cada campo que se migre, esto es importante porque se necesita sabe cómo se tratará cada campo, estos campos pueden ser público, interno y restringido|
| Actor | <p align="center"> Dara Steward|
| Precondición | <p align="center"> Haber pasado los campos correspondientes al pedido |
| <p align="center">  Paso | <p align="center">  Acción </p> |
| 1 | El usuario ingresa al apartado de seguridad del dato|
| 2 | El sistema muestra los campos que se quieren llenar|
| 3 | El usuario elige el número de pedido |
| 4 | El usuario elige el campo que quiere asegurar dependiendo del pedido ingresado|
| 5 | El usuario selecciona el nivel de acceso, puede ser Muy alto, alto, intermedio o bajo |
| 6 | El usuario selecciona si el campo necesita ser enmascarado o no |
| 7 | El usuario selecciona si el campo necesita ser encriptado o no  |
| 8 | El usuario presiona el botón agregar para que se registre el campo con su tipo de dato según los campos ingresados|
| 9 | El caso de uso termina |

### R-051 : Registrar la programación en que se migraran los datos que son unos datos adicionales a los campos.


| Objetivo | Tener presente la frecuencia en que se migrarán los datos|
|:----------:|-------------------|
| Descripción | El Data Steward registra la frecuencia de los campos, tanto su día de inicio y día de fin, así también algunas consideraciones extras para la frecuencia|
| Actor | <p align="center"> Dara Steward|
| Precondición | <p align="center"> Haber pasado los campos correspondientes al pedido |
| <p align="center">  Paso | <p align="center">  Acción </p> |
| 1 | El usuario ingresa al apartado de datos adicionales
| 2 | El sistema muestra los campos que se deben llenar|
| 3 | El usuario elige el número de migración que corresponde a un campo |
| 4 | El usuario escribe la frecuencia de ejecución, esta puede ser diario, quincenal, mensual, etc.|
| 5 | El usuario escribe el día de inicio para la frecuencia |
| 6 | El usuario escribe el día de inicio que puede ser de lunes a viernes |
| 7 |  El usuario escribe el día de fin que puede ser de lunes a viernes|
| 8 | El usuario escribe alguna consideración a tener en cuenta, puede ser que no se ejecute un día feriado o un día en especial |
| 9 | El usuario presiona el botón "AGREGAR" y se insertará la programación de los datos |
| 10 | El caso de uso termina |

### R-052 : Registrar el error que se ha cometido de acuerdo a la migración, osea el campo migrado para poder tener una visualización de los tipos de errores.

| Objetivo | Tener un registro de errores para que sirva de conocimiento a futuro|
|:----------:|-------------------|
| Descripción | El Data Steward y el data modeler registran los errores de acuerdo a su tipo junto al detalle|
| Actor | <p align="center"> Dara Steward|
| Precondición | <p align="center"> Haber pasado los campos correspondientes al pedido |
| <p align="center">  Paso | <p align="center">  Acción </p> |
| 1 | El usuario ingresa al apartado de registro de errores |
| 2 | El sistema muestra los campos que se deben llenar|
| 3 | El usuario selecciona el número de migración que corresponde a un campo |
| 4 | El usuario selecciona el tipo de error, que es un catálogo con 4 tipos de error, pueden ser de modelado, sintaxis, formato o equivalencias|
| 5 | El usuario escribe su nombre completo |
| 6 | El usuario escribe la fecha en la que está registrando un nuevo error |
| 7 |  El usuario escribe cuál fue el error que se cometió|
| 8 | El usuario escribe cuál es la corrección de ese error |
| 9 | El usuario presiona el botón "REGISTRAR" y se guardará el error con su detalle |
| 10 | El caso de uso termina |

### R-053 : Mostrar los errores con su respectiva corrección para futuros empleados

| Objetivo | Tener una vista detallada de los errores registrados anteriormente|
|:----------:|-------------------|
| Descripción | El Data Steward y el data modeler ingresan para poder tener conocimiento de los errores anteriores|
| Actor | <p align="center"> Dara Steward y data modeler|
| Precondición | <p align="center"> Haber registros de errores anteriormente |
| <p align="center">  Paso | <p align="center">  Acción </p> |
| 1 | El usuario ingresa al apartado de archivo de errores |
| 2 | El sistema muestra los errores con detalle|
| 3 |  El caso de uso termina |

[Regresar al índice](../README.md)
